---
title: "Report"
author: "Arbias Kadriu"
date: "2023-03-09"
output: html_document
---

# AGDS Report

### Task 1 

```{r}
list.files('../Data')
```


## first the document for this task will be brought to the RStudio and it will be controlled if the transfer worked.
```{r}

databaseS1 <- readr::read_csv("../Data/AGDS_Exercise_1.csv")

show(databaseS1)

```

### Task 2
# The transfered data, which is called previously databaseS1 will be transformed, will be renamed to sample_date_RR and a new columns will be added. This new row represents the log_response_ratio, which gives back the logarithm of increased CO2 divided by ambient CO2
```{r}
sample_date_RR <- dplyr::mutate(databaseS1, log_response_ratio = log(databaseS1$`increased CO2`/databaseS1$`ambient CO2`))

show(sample_date_RR)

```

# Now 
```{r}

sample_date_yearly <- sample_date_RR |>
  dplyr::group_by(sample_date_RR$`Experiment`, sample_date_RR$`Sample date`) |>
  dplyr::summarise(log_response_ratio_mean = mean(log_response_ratio))

colnames(sample_date_yearly)[1] <- "Experiment"
colnames(sample_date_yearly)[2] <- "sample date"
colnames(sample_date_yearly)[3] <- "Log response ratio, mean"

show(sample_date_yearly)

```

```{r}
knitr::kable(sample_date_yearly)
```

### Task 3
```{r}
early_phase <- dplyr::filter(sample_date_RR, sample_date_RR$`Time (years)` <3) |>
  dplyr::summarise(log_response_ratio_mean = mean(log_response_ratio))

```

```{r}
mid_phase <- dplyr::filter(sample_date_RR, sample_date_RR$`Time (years)` >=3 & sample_date_RR$`Time (years)`<6) |>
  dplyr::summarise(log_response_ratio_mean = mean(log_response_ratio))

```

```{r}
late_phase <- dplyr::filter(sample_date_RR, sample_date_RR$`Time (years)` >=6) |>
  dplyr::summarise(log_response_ratio_mean = mean(log_response_ratio))

```

```{r}
all_phases <- rbind(early_phase, mid_phase, late_phase)
all_phases <- dplyr::mutate(all_phases, "Phases" = c("early Phase (under 3 years since start)", "mid phase (between 3 and 6 years since start)", "late phase (over 6 years since start)"))
all_phases <- dplyr::select(all_phases, "Phases", "log_response_ratio_mean")

```

```{r}
knitr::kable(all_phases)
```


